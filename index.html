<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Immer in Bewegung</title>
        <meta name="mobile-web-app-capable" content="yes">
        <meta name="theme-color" content="#6f757e" id="themeColorMeta">
        <meta name="msapplication-navbutton-color" content="#6f757e">
        <link rel="shortcut icon" href="images/frog.svg" />
        <!--<script src="bundle/bootstrap/bootstrap.bundle.5.3.8.min.js"></script>
        <link href="bundle/bootstrap/bootstrap.5.3.8.min.css" rel="stylesheet">
        <link href="bewegung.css" rel="stylesheet">-->

    <style>

:root {
    --color-background: #f8fafd;
    --color-text:#000;
    --color-hover-background: #6f757e;
    --color-hover-background-alpha: #6f757e22;
    --color-hover-text: #fff;

    --color-filter: #fdf8ee;
}



.table td {padding:5pt;}

.table-overview-plain {width:100%;}
.table-overview-year td, .table-overview-country td, .table-overview-plain thead th, .table-overview-plain td {padding:8pt;font-weight:normal;}
.table-overview-year td:first-child, .table-overview-country td:first-child, .table-overview-plain thead th {background-color: var(--color-hover-background);color:var(--color-hover-text);}
.table-statistics-visits { width:100%;background-color:var(--color-hover-background); color:var(--color-hover-text);padding:5pt; }
.table { border-collapse: collapse; }
.table-hover {}


.table tbody tr {
    border-bottom: 1px solid var(--color-hover-background);
    padding: 8px;
    text-align: left;
}
.table tbody tr:hover {
    background-color:var(--color-hover-background-alpha);
}

@media (prefers-color-scheme: dark) {
    :root {

    }

}

.trip-flex {flex:1;}

        @font-face {
            font-family: 'Cairo';
            src: url('bundle/fonts/Cairo-VariableFont_slnt,wght.ttf') format('truetype');
        }

        @font-face {
            font-family: 'Righteous';
            src: url('bundle/fonts/Righteous-Regular.ttf') format('truetype');
        }

        .immer-in-font-uc {font-family: 'Cairo', sans-serif;text-transform: uppercase;}
        .bewegung-font-uc {font-family: 'Righteous', sans-serif;text-transform: uppercase;}

/* ===== Top gradient bar ===== */
        /* Loader css code */

        .gradient-bar-inactive {
            height: 5pt;
            width: 100%;
            background: linear-gradient(90deg, #1d655e, #1d655ecc, #82ec3e, #1d655e);
        }

        .gradient-bar {
            height: 5pt;
            width: 100%;
            background: linear-gradient(90deg, #1d655e, #1d655ecc, #82ec3e, #1d655e);
            background-size: 500%;
            animation: moveGradient 7s linear infinite;
        }

        @keyframes moveGradient {
            0% { background-position: 0 0; }
            0% { background-position: 500% 0; }
        }

        .delayed-pulse {
            opacity: 0;
            animation: showImage 2s 3s forwards, pulse 1s 2s infinite;
        }

        @keyframes showImage {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
            100% {
                transform: scale(1);
            }
        }


/* ===== Base ===== */
html,body{height:100%;}
body {
    margin: 0;
    font-family:
  system-ui,
  -apple-system,
  "Segoe UI",
  Roboto,
  "Helvetica Neue",
  Arial,
  "Noto Sans",
  "Liberation Sans",
  sans-serif,
  "Apple Color Emoji",
  "Segoe UI Emoji",
  "Segoe UI Symbol",
  "Noto Color Emoji";
  background-color:var(--color-background);
  display: flex;
  flex-direction: column;
}

/* ===== Main menu bar ===== */
#menu {
    background-color: var(--color-background);
    padding:0pt;
}

/* Flex layout for top-level menu */
#menu > ul {
    display: flex;
    align-items: stretch;        /* forces equal height */
    gap: 1.5rem;
    list-style: none;
    margin: 0;
    padding: 0;
}

/* All top-level items */
#menu > ul > li {
    display: flex;
    align-items: stretch;
    padding: 0;
}

#menu > ul > li:last-child {
    margin-left: auto;
}

#menu > ul > li:hover > a { background-color:var(--color-hover-background);color:var(--color-hover-text);}



#menu > ul > a {padding:10pt;}


/* ===== Top-level links (FIX) ===== */
#menu > ul > li > a {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0 0.75rem;
    height: 100%;                /* fill the menu item */
    text-decoration: none;
    color: inherit;
    white-space: nowrap;
    cursor: pointer;
}

/* Non-link items (e.g. "Icon") */
#menu > ul > li:not(.dropdown):not(:has(a)) {
    padding: 4pt 10pt 4pt 10pt;
    display: flex;
    align-items: center;
}

#menu > ul > li:not(:has(input)) {
    padding:0pt;
}

/* ===== Dropdown ===== */
.dropdown {
    position: relative;
}

.dropdown-menu {
    position: absolute;
    top: 100%;
    left: 0;
    min-width: 160px;
    display: none;
    background-color: var(--color-background);
    border: 2pt solid var(--color-hover-background);
    border-bottom-left-radius:10pt;
    border-bottom-right-radius:10pt;
    border-top-right-radius:10pt;
    padding: 0;
    margin: 0;
    list-style: none;
    z-index: 1000;
}

.dropdown-menu > li:hover { background-color:var(--color-hover-background);color:var(--color-hover-text); }
.dropdown-menu > li:hover:first-child { border-top-right-radius: 8pt; }
.dropdown-menu > li:hover:last-child { border-bottom-right-radius: 8pt;border-bottom-left-radius: 8pt; }


/* Desktop: hover opens dropdown */
@media (hover: hover) {
    .dropdown:hover .dropdown-menu {
        display: block;
    }
}

/* Touch + keyboard: focus opens dropdown */
.dropdown:focus-within .dropdown-menu {
    display: block;
}

/* Disable hover click trap on touch */
@media (hover: none) {
    .dropdown-link {
        pointer-events: none;
    }
}

/* Dropdown items */
.dropdown-menu li a {
    display: block;
    padding: 0.5rem 0.75rem;
    text-decoration: none;
    color: inherit;
    white-space: nowrap;
}

/* ===== Secondary bars ===== */
.filter {
    background-color: var(--color-hover-background-alpha);
    padding: 10pt;
    margin:0 10pt 10pt 10pt;
    border-radius:5pt;
    border:2pt solid var(--color-hover-background);
    /*box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px;*/
}

.submenu {
    padding: 10pt;
    display:flex;
    gap:10pt;
}

section {width:800pt;margin:auto;}

/* search */
details.search {
  background-color: var(--color-hover-background-alpha);
}

details.search summary {
    background-color: var(--color-hover-background);
    color:#fff;
  font-weight: bold;

  padding: 10pt;
}

details[open].search {


}

/* trip */
details[open].trip summary {
  margin-bottom: 0.5em;
}


details.trip {
  border-radius: 10pt;
  padding:10pt;
  /*background-color: #1d655e22;*/
}

details.trip summary {
    color:#fff;
  font-weight: bold;

  padding: 10pt;
}

details[open].trip {


}

details[open].trip summary {
  margin-bottom: 0.5em;
}


.prev_next {position:absolute;left:0;right:0;display:flex;justify-content: space-between;}
.prev_next > a {padding:5pt 10pt 10pt 10pt;}
.prev_next a img {height:2c0pt;}


.form-select {
    --bs-form-select-bg-img: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m2 5 6 6 6-6'/%3e%3c/svg%3e");

    padding: .375rem 2.25rem .375rem .75rem;
    font-size: 1rem;
    font-weight: 400;
    line-height: 1.5;
    color: var(--bs-body-color);
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    background-color: var(--bs-body-bg);
    background-image: var(--bs-form-select-bg-img),var(--bs-form-select-bg-icon,none);
    background-repeat: no-repeat;
    background-position: right .75rem center;
    background-size: 16px 12px;
    border: var(--bs-border-width) solid var(--bs-border-color);
    border-radius: var(--bs-border-radius);
    transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;
}

.form-control {
    display: block;
    width: 100%;
    padding: .375rem .75rem;
    font-size: 1rem;
    font-weight: 400;
    line-height: 1.5;
    color: var(--bs-body-color);
    -webkit-appearance: none;
    -moz-appearance: none;
    appearance: none;
    background-color: var(--color-background);
    background-clip: padding-box;
    border: 1pt solid var(--color-hover-background);
    border-radius: 5pt;
    transition: border-color .15s
ease-in-out, box-shadow .15s
ease-in-out;
border:2pt solid var(--color-hover-background);
}

.day-section, .day-accommodation { margin-top:10pt; }
.day-header { margin-bottom:10pt; font-weight:bold; }

h1 {font-family: 'Cairo', sans-serif;font-size:32pt;padding:0;margin:0;}
h2 {text-align:center;}

.card-container {display:flex;flex-direction:row;gap:10pt;}
.card-container > * {
  flex: 1;
}
.card {text-decoration:none;color:#000;border-radius:5pt; border:2pt solid var(--color-hover-background);padding:5pt;}
.card:hover {background-color:var(--color-hover-background-alpha);color:var(--color-hover-background);}
.card-title {font-family: 'Cairo', sans-serif;font-weight:bold;font-size:16pt;padding:5pt;line-height:16pt;}
.card-text {padding:5pt;}
.card-footer {padding:5pt;}
.card-cover-img {height:100pt;}

.submenu{display:flex;}
.submenu div {font-family: 'Cairo', sans-serif;font-size:32pt;font-weight:bold;color:var(--color-hover-background); }

a.tab-link:not(.active) {font-size:20pt;margin:10pt;text-decoration:none; padding:10pt; border-radius:10pt; background-color: var(--color-background); color:var(--color-text); }
a.tab-link:not(.active):hover {text-decoration:underline;}


.breadcrumb{display:flex;align-items: center; font-family: 'Cairo', sans-serif;font-weight:bold;font-size:16pt;margin:10pt 0 10pt 0;gap:5pt;}
.breadcrumb img:first-child {height:18pt;}
.breadcrumb img:second-child {height:10pt;}
.bi-database path {color: red !important;}
.breadcrumb-link {text-decoration:none;font-weight:bold;color:var(--color-hover-background);padding:0 5pt 0 5pt;border-radius:5pt; }
.breadcrumb-link.active {text-decoration:none;background-color:var(--color-hover-background);color:var(--color-hover-text);}
.breadcrumb-link:not(.active):hover {background-color:var(--color-hover-background-alpha);}
.warning {background: linear-gradient(90deg, #1d655e, #1d655ecc, #82ec3e, #1d655e);}

.single-link {text-decoration:none;color:#1d655e;}

.trip-day-event {font-size:1.1em;margin:5pt 0 5pt 0;}

input[type='file']{cursor:pointer;font-size:14pt;font-family:arial;border-radius:5pt;background-color: var(--color-hover-background-alpha);padding:10pt;border:2pt dashed var(--color-hover-background);}
input[type='file']::file-selector-button {padding:5pt;border-radius:5pt;border:0; color:var(--color-hover-text);background-color:var(--color-hover-background);}

button.filter-button {font-family:arial;font-size:12pt;background-color:#ffbf00;color:#var(--color-text);border:0;border-radius:5pt;padding:8pt;cursor:pointer;}
button.filter-button:hover {background-color:#FFBF00cc;}

button.source-button {width:200pt;margin:auto;font-family:arial;font-size:12pt;background-color:#dc3545;color:var(--color-hover-text);border:0;border-radius:5pt;padding:8pt;cursor:pointer;}
button.source-button:hover {background-color:#dc3545cc;}

.green-text {background-color:#19875422;color:#198754;border:2pt solid #198754;padding:10pt;border-radius:5pt;font-weight:bold;}
.red-text {background-color:#dc354522;color:#dc3545;border:2pt solid #dc3545;padding:10pt;border-radius:5pt;font-weight:bold}


.trip-details-container {
  position: relative;
  flex:1;
}

.trip-details-field {
  width:;
  padding: 1.5rem 0.5rem 0.5rem 0.8rem;
  font-size: 1rem;
  border:0;
  border-radius: 4px;
  box-sizing: border-box;
}

.trip-details-label {
  position: absolute;
  top: 0.3rem;  /* slightly down from the top */
  left: 0.5rem; /* same as input padding-left */
  font-size: 0.8rem;
  color: #666;
  background-color: ;
  padding: 0 4px;
  pointer-events: none; /* label doesn’t block input */
}




.days {
  display:flex;
  flex-direction:column;
  border-radius: 10pt;
  padding:10pt;
  margin-top:10pt;
  background-color:#fff;
  
}

.day {display: grid;grid-template-columns: 1fr 20pt;padding:10pt;gap:2pt;}
.day:not(:first-child){}

.day-left {display:flex;flex-direction:column;}
.day-right {display:flex;flex-direction:column;gap:2pt;}

.day-label { }

.day-event {
}

.day-foot {display:flex;flex-direction:row;margin-top:5pt;align-items: center;}

dialog{width:100vw;height:100vh;}

    </style>

<script src='https://unpkg.com/maplibre-gl@latest/dist/maplibre-gl.js'></script>
<link href='https://unpkg.com/maplibre-gl@latest/dist/maplibre-gl.css' rel='stylesheet' />

    </head>
    <body>

        <nav id="menu">

        </nav>

        <section id="app">

            <div style="text-align:center;margin-top:50pt;"><img src="images/frog.svg" style="width:233px;height:233px;" class="delayed-pulse" /></div>

        </section>

                        <div id="iib-foot" style="text-align:center;font-size:32pt;padding-top:20pt;padding-bottom:30pt;"><span class="immer-in-font-uc">II</span><span class="bewegung-font-uc">B</span>
                <!--<br/><div style="font-size:12pt;font-family: 'Francois+One', sans-serif;">Revisit your travel memories</div>--></div>

        <script type="module">
            import init from "./pkg/lib.js"; // <- match crate name
            init(); // optional: can be awaited if async
        </script>
        
        <script>
function initMap() {
  if (document.getElementById('map')) {
    var map = new maplibregl.Map({
      container: 'map',
      style: {
        version: 8,
        sources: {
          "osm-tiles": {
            type: "raster",
            tiles: [
              "https://tile.openstreetmap.org/{z}/{x}/{y}.png"
            ],
            tileSize: 256,
            attribution: "© OpenStreetMap contributors"
          }
        },
        layers: [
          {
            id: "osm-tiles",
            type: "raster",
            source: "osm-tiles",
            minzoom: 0,
            maxzoom: 19
          }
        ]
      },
      center: [-74.5, 40],
      zoom: 9
    });
    observer.disconnect(); // Stop observing once map is initialized
  }
}

// Create a MutationObserver to watch for DOM changes
var observer = new MutationObserver(initMap);
observer.observe(document.body, { childList: true, subtree: true });

// Try immediately in case the element already exists
initMap();
</script>

    </body>
</html>
